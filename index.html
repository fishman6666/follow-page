<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>一键关注页面</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: sans-serif;
      background: #f5f5f5;
      padding: 30px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }
    a.button, button#followAll {
      display: inline-block;
      padding: 12px 18px;
      background: #1da1f2;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      font-size: 14px;
      transition: background 0.3s;
      border: none;
      cursor: pointer;
    }
    a.button.clicked {
      background: #28a745;
    }
    button#followAll:disabled {
      background: gray;
      cursor: not-allowed;
    }
  </style>
</head>
<body>

<!-- “全部一键关注”按钮 -->
<button id="followAll">全部一键关注 🚀</button>

<script>
  const accounts = [
    "ScorePlay_xyz", "summitx_finance", "merv_toon", "StoryChain_ai", "merv_wtf",
    "pets_ww", "campnetworkxyz", "chronicle_ww", "tokentails", "PanenkaFC90",
    "PictographsNFT", "arcoin_official", "thepixudi", "entertainm_io", "bleetz_io",
    "Fantasy_cristal", "belgranofantasy", "awanalab", "clustersxyz", "TheMetakraft",
    "JukebloxDapp", "rarible"
  ];

  function isClicked(name) {
    return localStorage.getItem("followed_" + name) === "true";
  }

  function markClicked(name, btn) {
    localStorage.setItem("followed_" + name, "true");
    btn.classList.add("clicked");
    btn.innerText = `已关注 ${name} ✅`;
  }

  // 渲染每个关注按钮
  accounts.forEach(name => {
    const link = document.createElement("a");
    link.href = `https://x.com/intent/follow?screen_name=${name}`;
    link.target = "_blank";
    link.className = "button";
    link.innerText = isClicked(name) ? `已关注 ${name} ✅` : `关注 ${name}`;
    if (isClicked(name)) link.classList.add("clicked");

    link.addEventListener("click", () => {
      setTimeout(() => markClicked(name, link), 1000);
    });

    document.body.appendChild(link);
  });

  // 全部一键关注逻辑
  document.getElementById("followAll").addEventListener("click", () => {
    const allButtons = document.querySelectorAll("a.button:not(.clicked)");
    allButtons.forEach((btn, i) => {
      setTimeout(() => {
        window.open(btn.href, "_blank");
        const name = btn.href.split("screen_name=")[1];
        markClicked(name, btn);
      }, i * 500); // 间隔打开，避免被浏览器拦截
    });

    document.getElementById("followAll").disabled = true;
    document.getElementById("followAll").innerText = "已全部打开 ✅";
  });
</script>

</body>
</html>
